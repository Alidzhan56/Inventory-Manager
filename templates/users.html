<!DOCTYPE html>
<html lang="en">
<head>

    <!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <meta charset="UTF-8">
    <title>Manage Users - Inventory Manager</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; }
        h1 { color: #333; }
        table { border-collapse: collapse; width: 60%; }
        th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }
        th { background: #f4f4f4; }
        a { color: red; text-decoration: none; }
        form { margin-bottom: 20px; }
        input, select { margin-right: 10px; padding: 5px; }
        button { padding: 5px 10px; }
        .flash { color: red; margin-bottom: 10px; }
    </style>
</head>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<body>
    <h1>Manage Users</h1>
    <p>Welcome, {{ current_user.username }}! <a href="{{ url_for('logout') }}">Logout</a></p>

    {% with messages = get_flashed_messages() %}
        {% if messages %}
            <div class="flash">
                {% for msg in messages %}
                    <p>{{ msg }}</p>
                {% endfor %}
            </div>
        {% endif %}
    {% endwith %}

    <h3>Add User</h3>
    <form action="{{ url_for('add_user') }}" method="POST">
        <input type="text" name="username" placeholder="Username" required>
        <input type="password" name="password" placeholder="Password" required>
        <label for="role">Role:</label>
        <select name="role" required>
            <option value="Admin / Owner">Admin / Owner</option>
            <option value="Warehouse Manager">Warehouse Manager</option>
            <option value="Sales Agent">Sales Agent</option>
        </select>
        <button type="submit">Add User</button>
    </form>

   <h3>Existing Users</h3>
<table>
    <tr>
        <th>#</th>
        <th>Username</th>
        <th>Role</th>
        <th>Action</th>
    </tr>
    {% for user in users %}
    <tr>
        <td>{{ loop.index }}</td>
        <td>{{ user.username }}</td>
        <td>{{ user.role }}</td>
        <td><a href="{{ url_for('delete_user', id=user.id) }}">Delete</a></td>
    </tr>
    {% endfor %}
</table>

<p><a href="{{ url_for('add_user') }}">Add New User</a></p>
<p><a href="{{ url_for('index') }}">‚Üê Back to Products</a></p>


</body>
</html>
